<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="http, authentication, basic, digest, Node.js, npm" />
    <meta name="description" content="Node.js package for HTTP basic and digest access authentication"/>
    <title>Node.js package for HTTP basic and digest access authentication</title>

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
    <link rel="stylesheet" href="/css/prism.css" />
    <link rel="stylesheet" href="/css/styles.css" />

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-48892246-3', 'http-auth.info');
        ga('send', 'pageview');
    </script>
</head>
<body>
<div class="content">
    <header>
        <h1>http-auth</h1>
        <h4>Node.js package for HTTP basic and digest access authentication</h4>
        <a class="github-button" href="https://github.com/http-auth/http-auth" data-style="mega"
           data-count-href="/http-auth/http-auth/stargazers"
           data-count-api="/repos/http-auth/http-auth#stargazers_count"
           data-count-aria-label="# stargazers on GitHub" aria-label="Star http-auth/http-auth on GitHub">Star</a>
        <a class="github-fork-ribbon right-top" href="https://github.com/http-auth/http-auth" title="Fork me on GitHub">Fork me on GitHub</a>
    </header>
    <div class="page">
        <h3>Installation</h3>
        <p>Via git (or downloaded tarball):</p>
        <pre><code class="language-bash">$ git clone git://github.com/http-auth/http-auth.git</code></pre>
        <p>or via <a href="https://npmjs.org/" target="_blank">npm</a>:</p>
        <pre><code class="language-bash">$ npm install http-auth</code></pre>
        <h3>Basic example</h3>
        <pre><code class="language-javascript">// Authentication module.
var auth = require('http-auth');
var basic = auth.basic({
    realm: "Simon Area.",
    file: __dirname + "/../data/users.htpasswd" // gevorg:gpass, Sarah:testpass
});

// Creating new HTTP server.
http.createServer(basic, function(req, res) {
    res.end("Welcome to private area - " + req.user + "!");
}).listen(1337);
</code></pre>
        <h3>Custom authentication</h3>
        <pre><code class="language-javascript">// Authentication module.
var auth = require('http-auth');
var basic = auth.basic({
        realm: "Simon Area."
    }, function (username, password, callback) { // Custom authentication.
        callback(username === "Tina" && password === "Bullock");
    }
);

// Creating new HTTP server.
http.createServer(basic, function(req, res) {
    res.end("Welcome to private area - " + req.user + "!");
}).listen(1337);
</code></pre>
        <h3><a target="_blank" href="http://expressjs.com/">express framework</a> integration</h3>
        <pre><code class="language-javascript">// Authentication module.
var auth = require('http-auth');
var basic = auth.basic({
    realm: "Simon Area.",
    file: __dirname + "/../data/users.htpasswd" // gevorg:gpass, Sarah:testpass
});

// Application setup.
var app = express();
app.use(auth.connect(basic));

// Setup route.
app.get('/', function(req, res){
  res.send("Hello from express - " + req.user + "!");
});
</code></pre>
        <h3>Protecting specific path</h3>
        <pre><code class="language-javascript">// Authentication module.
var auth = require('http-auth');
var basic = auth.basic({
    realm: "Simon Area.",
    file: __dirname + "/../data/users.htpasswd" // gevorg:gpass, Sarah:testpass
});

// Application setup.
var app = express();

// Setup route.
app.get('/admin', auth.connect(basic), function(req, res){
  res.send("Hello from admin area - " + req.user + "!");
});

// Setup route.
app.get('/', function(req, res){
  res.send("Not protected area!");
});
</code></pre>
        <h3><a target="_blank" href="http://passportjs.org/">passport</a> integration</h3>
        <pre><code class="language-javascript">// Authentication module.
var auth = require('http-auth');
var basic = auth.basic({
    realm: "Simon Area.",
    file: __dirname + "/../data/users.htpasswd" // gevorg:gpass, Sarah:testpass
});

// Application setup.
var app = express();

// Setup strategy.
var passport = require('passport');
passport.use(auth.passport(basic));

// Setup route.
app.get('/', passport.authenticate('http', { session: false }),
    function(req, res) {
        res.end("Welcome to private area - " + req.user + "!");
    }
);
</code></pre>
        <h3><a target="_blank" href="https://github.com/nodejitsu/node-http-proxy/">http-proxy</a> integration</h3>
        <pre><code class="language-javascript">// Authentication module.
var auth = require('http-auth');
var basic = auth.basic({
    realm: "Simon Area.",
    file: __dirname + "/../data/users.htpasswd" // gevorg:gpass, Sarah:testpass
});

// Create your proxy server.
httpProxy.createServer(basic, {target: 'http://localhost:1338'}).listen(1337);

// Create your target server.
http.createServer(function (req, res) {
    res.end("Request successfully proxied!");
}).listen(1338);
</code></pre>
    </div>
    <footer>
        Project is published under <a href="http://github.com/http-auth/http-auth/blob/master/LICENSE" target="_blank">MIT License</a>
    </footer>
</div>
<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script src="/js/prism.js"></script>
</body>
</html>